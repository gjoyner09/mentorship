<p id="notice"><%= notice %></p>

<h1>Mentors</h1>
<% if !(user_signed_in?) || Profile.find_by(user_id: current_user.id).mentee == false %>
  <h2>You are seeing a subset of mentors that have public profiles. For the full list of available mentors, please sign up as a mentee.</h2>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Age</th>
      <th>Reason for interest</th>
      <th>Interests</th>
      <th>Discussion topics</th>
      <th>Country</th>
      <th>Gender</th>
      <th>Sexuality</th>
      <th>Identity</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @profiles.each do |profile| %>
      <% if profile.mentor == true && profile.mentor_public == true && profile.mentor_availability == true || (@user.mentee == true && profile.mentor == true && profile.mentor_availability == true) %>
        <tr>
          <td><%= profile.name %></td>
          <td><%= profile.age %></td>
          <td><%= profile.reason_for_interest %></td>
          <td><%= profile.interests %></td>
          <td><%= profile.discussion_topics %></td>
          <td><%= Country.find_by(id: profile.country_id).country_name %></td>
          <td><%= Gender.find_by(id: profile.gender_id).gender_name %></td>
          <td><%= Sexuality.find_by(id: profile.sexuality_id).sexuality_name %></td>
          <td><%= Identity.find_by(id: profile.identity_id).identity_name %></td>
          <td><%= link_to 'Show', profile %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Profile', new_profile_path %>
