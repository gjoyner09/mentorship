<div class="px-4">

<% if !(user_signed_in?) || !@user_profile || @user_profile.mentor == false %>
    <div class="alert alert-danger" role="alert">This page is only available to those who have signed up as a mentor</h1>
<% else %>

    <h1>Profiles of Available Mentees</h1>

    <table class="table">
    <thead>
        <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Reason for interest</th>
        <th>Interests</th>
        <th>Discussion topics</th>
        <th>Country</th>
        <th>Gender</th>
        <th>Sexuality</th>
        <th>Identity</th>
        <th colspan="3"></th>
        </tr>
    </thead>

    <tbody>
        <% @profiles.each do |profile| %>
        <% if profile.mentee == true && profile.mentee_public == true && profile.mentee_availability == true %>
            <tr>
            <td><%= profile.name %></td>
            <td><%= profile.age %></td>
            <td><%= profile.reason_for_interest %></td>
            <td><%= profile.interests %></td>
            <td><%= profile.discussion_topics %></td>
            <%# Looks up the values associated with each id for country, gender, sexuality, identity %>
            <td><%= Country.find_by(id: profile.country_id).country_name %></td>
            <td><%= Gender.find_by(id: profile.gender_id).gender_name %></td>
            <td><%= Sexuality.find_by(id: profile.sexuality_id).sexuality_name %></td>
            <td><%= Identity.find_by(id: profile.identity_id).identity_name %></td>
            <td><%= link_to 'View', profile %></td>
            </tr>
        <% end %>
        <% end %>
    </tbody>
    </table>

    <br>

    <%= link_to 'New Profile', new_profile_path %>

<% end %>

</div>